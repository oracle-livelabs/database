{
  "paragraphs": [
    {
      "text": "%md\n# Why Agents Beat Zero Shot Prompts\n\n## Introduction\n\nIn this lab, you'll directly compare zero-shot prompting with agent-based execution to understand why agents are transforming how work gets done.\n\nZero-shot prompting means: one question, one answer, done. It's useful for general knowledge, but it doesn't execute workflows or access your data. Agents break tasks into steps, use tools, and actually complete the work.\n\n**Estimated Time:** 10 minutes\n\n### Objectives\n* Understand what zero-shot prompting means\n* Compare zero-shot responses to agent responses\n* See how agents can execute multi-step tasks\n* Recognize when to use each approach",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%md\n## Task 1: Experience Zero-Shot Prompting\n\nZero-shot queries go directly to the LLM for general knowledge answers. Use `SELECT AI CHAT` to ask questions without involving your database.\n\n**Step 1:** Set the profile.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nEXEC DBMS_CLOUD_AI.SET_PROFILE('genai');",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n**Step 2:** Ask a procedural question using zero-shot.\n\n**Observe:** You get a helpful explanation of the steps. But you still have to do each step yourself.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nSELECT AI CHAT How do I process an expense report;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n**Step 3:** Ask a more complex question.\n\n**Observe:** Again, you get instructions. The AI explains the work but doesn't do the work.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nSELECT AI CHAT A customer says their order never arrived. What should I do;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n**Step 4:** Ask about best practices.\n\n**Observe:** Great for general knowledge—no data needed.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nSELECT AI CHAT What are best practices for customer service;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n**Step 5:** Now try asking for something that requires YOUR data.\n\n**Observe:** The AI can't answer this because it has no access to your data. It gives a generic response about how to check order status, but it doesn't actually know YOUR order 12345.\n\nThis is the limitation of zero-shot: great for general knowledge, useless for your specific business data.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nSELECT AI CHAT What is the status of order 12345;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n## Task 2: Create an Agent with Tools\n\nNow let's create an agent that can actually access your data. We'll give it a tool to look up order information.\n\n**Step 1:** Create a sample orders table.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nCREATE TABLE sample_orders (\n    order_id    VARCHAR2(20) PRIMARY KEY,\n    customer    VARCHAR2(100),\n    status      VARCHAR2(20),\n    amount      NUMBER(10,2),\n    order_date  DATE DEFAULT SYSDATE\n);\n\nINSERT INTO sample_orders VALUES ('12345', 'Acme Corp', 'SHIPPED', 299.00, SYSDATE - 3);\nINSERT INTO sample_orders VALUES ('12346', 'TechStart', 'PENDING', 150.00, SYSDATE - 1);\nINSERT INTO sample_orders VALUES ('12347', 'GlobalCo', 'DELIVERED', 499.00, SYSDATE - 7);\nCOMMIT;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n**Step 2:** Create a function to look up orders.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nCREATE OR REPLACE FUNCTION lookup_order(\n    p_order_id VARCHAR2\n) RETURN VARCHAR2 AS\n    v_result VARCHAR2(500);\nBEGIN\n    SELECT 'Order ' || order_id || ': ' || status || \n           ', Customer: ' || customer || \n           ', Amount: $' || amount ||\n           ', Date: ' || TO_CHAR(order_date, 'YYYY-MM-DD')\n    INTO v_result\n    FROM sample_orders\n    WHERE order_id = p_order_id;\n    \n    RETURN v_result;\nEXCEPTION\n    WHEN NO_DATA_FOUND THEN\n        RETURN 'Order ' || p_order_id || ' not found.';\nEND;\n/",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n**Step 3:** Register it as a tool.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nBEGIN\n    DBMS_CLOUD_AI_AGENT.CREATE_TOOL(\n        tool_name   => 'ORDER_LOOKUP_TOOL',\n        attributes  => '{\"instruction\": \"Look up order status and details. Use when someone asks about an order. IMPORTANT: Use UPPERCASE parameter name: P_ORDER_ID (the order number).\",\n                        \"function\": \"lookup_order\"}',\n        description => 'Retrieves order information by order ID'\n    );\nEND;\n/",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n**Step 4:** Create an agent with this tool.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nBEGIN\n    DBMS_CLOUD_AI_AGENT.CREATE_AGENT(\n        agent_name  => 'ORDER_AGENT',\n        attributes  => '{\"profile_name\": \"genai\",\n                        \"role\": \"You are a customer service agent who can look up order information. When asked about orders, use the ORDER_LOOKUP_TOOL to get the actual status.\"}',\n        description => 'Agent that can look up orders'\n    );\nEND;\n/",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%script\nBEGIN\n    DBMS_CLOUD_AI_AGENT.CREATE_TASK(\n        task_name   => 'ORDER_TASK',\n        attributes  => '{\"instruction\": \"Help with order inquiries. Use ORDER_LOOKUP_TOOL to get order details. User request: {query}\",\n                        \"tools\": [\"ORDER_LOOKUP_TOOL\"]}',\n        description => 'Task for order lookups'\n    );\nEND;\n/",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%script\nBEGIN\n    DBMS_CLOUD_AI_AGENT.CREATE_TEAM(\n        team_name   => 'ORDER_TEAM',\n        attributes  => '{\"agents\": [{\"name\": \"ORDER_AGENT\", \"task\": \"ORDER_TASK\"}],\n                        \"process\": \"sequential\"}',\n        description => 'Team for order inquiries'\n    );\nEND;\n/",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n## Task 3: Compare the Same Question\n\nNow let's ask about order 12345 again—but this time with an agent.\n\n**Step 1:** Set the team and ask the agent.\n\n**Result:** The agent calls the lookup tool and returns the actual status. Compare this to Task 1 where zero-shot couldn't tell you anything about order 12345!",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nEXEC DBMS_CLOUD_AI_AGENT.SET_TEAM('ORDER_TEAM');\nSELECT AI AGENT What is the status of order 12345;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n**Step 2:** Try another order.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nSELECT AI AGENT Is order 12346 ready yet;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n**Step 3:** Ask about a non-existent order.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nSELECT AI AGENT Check on order 99999;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n## Task 4: See What the Agent Did\n\nThe key difference is that agents take actions. Let's see the tool calls.\n\n**Step 1:** Query the tool history.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nSELECT \n    tool_name,\n    TO_CHAR(start_date, 'HH24:MI:SS') as called_at,\n    SUBSTR(output, 1, 80) as result\nFROM USER_AI_AGENT_TOOL_HISTORY\nORDER BY start_date DESC\nFETCH FIRST 5 ROWS ONLY;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    },
    {
      "text": "%md\n## Task 5: When to Use Each Approach\n\n**Use zero-shot (SELECT AI CHAT) when:**\n- You need a quick answer from general knowledge\n- No data access is required\n- Single-step response is sufficient\n- You're brainstorming or exploring\n\n**Use agents (SELECT AI AGENT) when:**\n- The task requires multiple steps\n- You need to access business data\n- Actions need to happen in systems\n- Results should be tracked",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%md\n## Summary\n\nIn this lab, you directly compared zero-shot prompting with agent execution:\n\n* Saw that zero-shot explains work but doesn't execute it\n* Built an agent with a tool to access data\n* Compared the same question using both approaches\n* Understood when each approach is appropriate\n\n**Key takeaway:** The difference isn't intelligence—it's action. Zero-shot AI tells you what to do. Agents do it.",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%md\n## Cleanup (Optional)",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "md" } }
    },
    {
      "text": "%script\nEXEC DBMS_CLOUD_AI_AGENT.DROP_TEAM('ORDER_TEAM', TRUE);\nEXEC DBMS_CLOUD_AI_AGENT.DROP_TASK('ORDER_TASK', TRUE);\nEXEC DBMS_CLOUD_AI_AGENT.DROP_AGENT('ORDER_AGENT', TRUE);\nEXEC DBMS_CLOUD_AI_AGENT.DROP_TOOL('ORDER_LOOKUP_TOOL', TRUE);\nDROP TABLE sample_orders;\nDROP FUNCTION lookup_order;",
      "config": { "colWidth": 12.0, "enabled": true, "results": {}, "editorSetting": { "language": "sql" } }
    }
  ],
  "name": "Lab 2 - Why Agents Beat Zero Shot",
  "id": "lab2-agents-vs-zero-shot",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {},
  "config": { "isZeppelinNotebookCronEnable": false },
  "info": {}
}
